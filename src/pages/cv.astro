---
import CVLayout from "../layouts/CVLayout.astro";
import CVLink from "../components/cv/CVLink.astro";
import CVEntry from "../components/cv/CVEntry.astro";
import CVProject from "../components/cv/CVProject.astro";
import { getCollection } from "astro:content";
import { Icon } from "astro-icon/components";

export const prerender = true;

const MAX = 4;

const allProjects = await getCollection("projects");

const contributions = allProjects.filter(({ data }) => data.type === "contribution").slice(0, MAX);
const projects = allProjects.filter(({ data }) => data.type === "personal").slice(0, MAX - contributions.length);
---

<CVLayout
  title="CV - Lucas Nørgård"
  description="CV - Lucas Nørgård - Software Engineer"
  keywords={[
    "lucas nørgård",
    "luxass",
    "devops engineer",
    "kubernetes",
    "golang",
    "rust",
    "typescript",
    "microservices",
    "healthcare compliance",
    "open source",
    "developer tools",
    "CI/CD",
    "infrastructure",
    "cv",
    "software engineer",
  ]}
>
  <header class="mb-6 print:mb-2">
    <div class="hidden print:flex print:flex-wrap print:gap-x-4 print:gap-y-1 print:text-xs print:mb-2">
      <CVLink href="mailto:lucasnrgaard@gmail.com" icon="ph:envelope" label="lucasnrgaard@gmail.com" />
      <CVLink href="https://linkedin.com/in/lucasnrgaard" icon="ph:linkedin-logo" label="@lucasnrgaard" />
      <CVLink href="https://github.com/luxass" icon="ph:github-logo" label="@luxass" />
      <div class="flex items-center">
        <Icon name="ph:map-pin" class="size-5 mr-1" />
        <span class="text-xs">Aarhus, Denmark</span>
      </div>
    </div>
    <h1 class="text-3xl font-light text-foreground mb-2 print:text-2xl print:mb-1">Lucas Nørgård</h1>
    <div class="flex flex-wrap gap-x-4 gap-y-1 text-foreground print:hidden mb-4">
      <CVLink href="mailto:lucasnrgaard@gmail.com" icon="ph:envelope" label="lucasnrgaard@gmail.com" />
      <CVLink href="https://linkedin.com/in/lucasnrgaard" icon="ph:linkedin-logo" label="@lucasnrgaard" />
      <CVLink href="https://github.com/luxass" icon="ph:github-logo" label="@luxass" />
      <div class="flex items-center">
        <Icon name="ph:map-pin" class="size-4 mr-1" />
        <span class="text-sm">Aarhus, Denmark</span>
      </div>
    </div>

    <p class="text-foreground-muted text-sm print:text-xs leading-relaxed">
      DevOps Engineer specializing in <strong>Kubernetes</strong> infrastructure, <strong>healthcare compliance</strong
      >, and <strong>TypeScript</strong> developer tooling. Experienced in <strong>Go</strong>, <strong>Rust</strong>, <strong
        >Java</strong
      >, <strong>Spring Boot</strong>, and <strong>CI/CD</strong> automation. Designed CI/CD pipelines for healthcare applications
      while managing production clusters and supporting "You Build It, You Run It" culture with focus on
      <strong>developer experience</strong> and system <strong>resilience</strong>.
    </p>
  </header>

  <section class="mb-6 print:mb-4">
    <h2 class="text-xl font-medium text-foreground mb-3 print:text-lg print:mb-2">Experience & Education</h2>
    <div class="space-y-4 print:space-y-3">
      <CVEntry company="DevOps Engineer @ Region Midtjylland" period="Sep 2024 - Present" type="work">
        <p class="text-sm print:text-xs text-foreground-muted leading-relaxed">
          Designed and implemented <strong>CI/CD pipelines</strong> for healthcare applications while managing <strong
            >Kubernetes clusters</strong
          >
          and service infrastructure to ensure reliability, security, and performance at scale. Supported <strong
            >"You Build It, You Run It" culture</strong
          >
          by taking backend responsibility for both applications and platform services, ensuring <strong
            >stability, observability, and resilience</strong
          >
          across healthcare systems. Focused on improving <strong>developer experience</strong> and <strong
            >CI/CD efficiency</strong
          > to enable faster iteration cycles and more resilient systems, ensuring healthcare applications can be delivered
          with confidence and scalability.
        </p>
      </CVEntry>

      <CVEntry company="Software Developer @ Region Midtjylland (DIAS)" period="May 2023 - Sep 2024" type="work">
        <p class="text-sm print:text-xs text-foreground-muted leading-relaxed">
          Engineered healthcare applications and integrations using <strong>Rust</strong>, <strong>Go</strong>, <strong
            >TypeScript</strong
          >,
          <strong>Java</strong>, <strong>Kotlin</strong>, and <strong>Spring Boot</strong> within the DIAS development unit
          under Teknologi og Innovation. Developed <strong>message handling systems</strong> processing <strong
            >200-300K weekly transactions</strong
          > between X-ray and booking systems, built <strong>patient safety solutions</strong> for managing aggressive patient
          interactions, and created applications for managing
          <strong>SOR codes</strong> (Sundhedsvæsenets Organisationsregister) and <strong>SHAK codes</strong> (Sygehus Afdelings
          Koder). Implemented a <strong>consent portal</strong> integrated with glucose monitoring projects for third-party
          data access while optimizing
          <strong>CI performance</strong> and creating <strong>developer tooling</strong> for agile cross-functional teams.
        </p>
      </CVEntry>

      <CVEntry company="Web Developer Vocational Education @ Viden Djurs" period="Aug 2020 - Nov 2022" type="education">
        <p class="text-sm print:text-xs text-foreground-muted leading-relaxed">
          Completed comprehensive full-stack web development program covering programming fundamentals, API design, and
          modern web technologies. Gained foundational expertise in <strong>TypeScript</strong>, <strong>React</strong>,
          and web application architecture.
        </p>
      </CVEntry>
    </div>
  </section>

  <section class="mb-6 print:mb-4">
    <h2 class="text-xl font-medium text-foreground mb-3 print:text-lg print:mb-2">Open Source Projects</h2>
    <p class="text-foreground-muted text-sm mb-3 print:text-xs print:mb-2 leading-relaxed">
      Authored <strong>TypeScript developer tools</strong> focused on <strong>build optimization</strong> and <strong
        >developer experience</strong
      >, with adoption by development teams worldwide. Active contributor to open source projects that improve
      development workflows and tooling ecosystems.
    </p>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-3 print:grid-cols-2 print:gap-2">
      {
        [...contributions, ...projects].map(({ data: projectOrContribution }) => (
          <CVProject
            title={projectOrContribution.title}
            description={projectOrContribution.description}
            href={projectOrContribution.href}
          />
        ))
      }
    </div>
  </section>

  <div class="pb-8 print:hidden"></div>
</CVLayout>
